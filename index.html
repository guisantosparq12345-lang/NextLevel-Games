<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Login - Loja de Jogos</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="login">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Usuário">
    <input type="password" id="password" placeholder="Senha">
    <button onclick="login()">Entrar</button>
</div>

<script>
const users = [
    { username: "admin", password: "1234", role: "admin", cart: [] },
    { username: "user", password: "1234", role: "user", cart: [] }
];

function login() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    const found = users.find(u => u.username === username && u.password === password);
    if(!found) return alert("Usuário ou senha incorretos!");

    localStorage.setItem("currentUser", JSON.stringify(found));
    localStorage.setItem("users", JSON.stringify(users));
    
    if(found.role === "admin") {
        window.location.href = "admin.html";
    } else {
        window.location.href = "loja.html";
    }
}
</script>

</body>
</html>
